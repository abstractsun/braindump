#!/bin/bash
# braindump
# (c) abstractsun
# License: GPL version 3 or, at your option, any later version

mkdir -p tasks

TODOFILE="tasks/todo.txt"

if [[ "$1" == "?" && -z "$2" ]]; then
    echo "$TODOFILE"
elif [ -n "$1" ]; then
    if [[ ! -f "$TODOFILE" ]]; then
        touch "$TODOFILE"
    fi
    NEWTODOS="`echo "$1" | cat - "$TODOFILE"`"
    printf "$NEWTODOS" > $TODOFILE &&
    echo "Added TODO: \"$(head -n 1 "$TODOFILE")\""
else
    vim "$TODOFILE";
fi
